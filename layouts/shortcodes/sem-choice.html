<style>
  .sem-box {
    max-width: 720px;
    margin: 2em auto;
    padding: 1.5em 2em;
    border-radius: 16px;
    background: #ffffff;
    box-shadow: 0 4px 14px rgba(0, 0, 0, 0.08);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
  }
  .sem-box h3 {
    font-size: 1.3em;
    margin-bottom: 0.5em;
    color: #222;
  }
  .sem-box p {
    color: #555;
    font-size: 1em;
    line-height: 1.6;
  }
  .sem-box ul {
    color: #444;
    font-size: 0.95em;
    margin-left: 1.2em;
    margin-bottom: 1em;
  }
  .sem-box ul li {
    margin-bottom: 0.4em;
  }
  .sem-box button {
    margin: 0.5em 0.5em 0.5em 0;
    padding: 0.6em 1.4em;
    font-size: 1em;
    border: none;
    border-radius: 8px;
    background-color: #3478f6;
    color: white;
    cursor: pointer;
    transition: background 0.2s ease;
  }
  .sem-box button:hover {
    background-color: #1d60d3;
  }
  .sem-box .result {
    margin-top: 1.5em;
    padding-top: 1em;
    border-top: 1px dashed #ccc;
    color: #333;
  }
</style>

<div id="sem-choice-container" class="sem-box">åŠ è½½ä¸­...</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const container = document.getElementById('sem-choice-container');
  const lang = "{{ .Get "lang" | default "zh" }}".toLowerCase();

  const texts = {
    zh: {
      step1: {
        title: "åœ¨ä½ å¼€å§‹æŠ•æ”¾ SEM å‰ï¼Œæƒ³å…ˆé—®é—®ä½ ï¼š",
        question: "ä½ æ›´å€¾å‘äºå“ªç§æ–¹å¼ç®¡ç†å¹¿å‘ŠæŠ•æ”¾ï¼Ÿ",
        btnSelf: "ğŸ§  æˆ‘è‡ªå·±æ“ä½œ",
        btnAgency: "ğŸ’¼ æ‰¾ä»£ç†æœºæ„"
      },
      step2: {
        self: "ä½œä¸º DIY æŠ•æ”¾è€…ï¼Œä½ æœ€å…³æ³¨å“ªä¸€æ–¹é¢ï¼Ÿ",
        agency: "å§”æ‰˜ä»£ç†æ—¶ï¼Œä½ æœ€å…³æ³¨ä»€ä¹ˆï¼Ÿ",
        btnCost: "ğŸ’° æˆæœ¬æ•ˆç‡",
        btnTime: "â±ï¸ æ—¶é—´ç²¾åŠ›"
      },
      results: {
        self_cost: {
          title: "âœ… ç²¾æ‰“ç»†ç®—å‹æŠ•æ”¾è€…",
          bullets: [
            "å®Œå…¨æŒæ§æ¯æ—¥é¢„ç®—ã€å‡ºä»·ç­–ç•¥ä¸å…³é”®è¯è®¾ç½®",
            "è‡ªå·±è®¾ç½®å¦å®šå…³é”®è¯ä»¥é¿å…æ— æ•ˆç‚¹å‡»",
            "ä¼˜åŒ–å¹¿å‘Šç»“æ„å’Œè´¨é‡å¾—åˆ†ï¼Œå‹ä½ CPC",
            "ä¸æ¶‰åŠç¬¬ä¸‰æ–¹è´¹ç”¨ï¼Œæ›´é€‚åˆåˆæœŸå°é¢„ç®—æµ‹è¯•"
          ],
          footer: "ğŸ‘‰ ä¸‹æ–‡å°†è¯¦ç»†è®²è§£å¦‚ä½•æ‹†è§£ç‚¹å‡»æˆæœ¬ã€æé«˜æŠ•æ”¾æ€§ä»·æ¯”ã€‚"
        },
        self_time: {
          title: "âœ… çµæ´»è‡ªä¸»ä½†ç²¾åŠ›æœ‰é™å‹",
          bullets: [
            "æƒ³è‡ªå·±ä¸Šæ‰‹ï¼Œä½†ä¸å¸Œæœ›æŠ•å…¥å¤ªå¤šç»´æŠ¤ç²¾åŠ›",
            "é€‚åˆä½¿ç”¨ Google Ads çš„æ™ºèƒ½å‡ºä»·æˆ–è‡ªåŠ¨åŒ–å»ºè®®",
            "å¯å…³æ³¨è´¨é‡å¾—åˆ†ç­‰å…³é”®æŒ‡æ ‡ï¼ŒæŒ‰éœ€ä¼˜åŒ–",
            "é€‚åˆé¢„ç®—çµæ´»ã€è¿½æ±‚é•¿æœŸå­¦ä¹ æˆé•¿çš„å¹¿å‘Šä¸»"
          ],
          footer: "ğŸ‘‰ æœ¬æ–‡å°†æ•™ä½ è¯†åˆ«å“ªäº›åœ°æ–¹å€¼å¾—èŠ±æ—¶é—´ä¼˜åŒ–ï¼Œå“ªäº›å¯ä»¥äº¤ç»™ç³»ç»Ÿè‡ªåŠ¨åŒ–ã€‚"
        },
        agency_cost: {
          title: "âœ… æ§æœ¬ç¬¬ä¸€å‹å§”æ‰˜è€…",
          bullets: [
            "å¸Œæœ›å€ŸåŠ©ä»£ç†ç»éªŒï¼Œä½†å¯¹é¢„ç®—ä½¿ç”¨éå¸¸æ•æ„Ÿ",
            "éœ€å…³æ³¨ä»£ç†çš„æ”¶è´¹æ–¹å¼ï¼šæŒ‰æœˆï¼ŸæŒ‰ææˆï¼Ÿæ˜¯å¦é€æ˜ï¼Ÿ",
            "å»ºè®®æ¸…æ¥šäº†è§£ä»£ç†è´¹ç”¨æ˜¯å¦åŒ…å«è½åœ°é¡µåˆ¶ä½œä¸æ•°æ®æŠ¥å‘Š",
            "æ›´é€‚åˆæ˜ç¡®ç›®æ ‡ã€ç²¾ç»†ç®¡ç†å‹å®¢æˆ·"
          ],
          footer: "ğŸ‘‰ æ–‡ç« ä¸‹æ–¹åˆ—å‡ºä¸åŒç±»å‹ä»£ç†æœåŠ¡çš„å¸¸è§è´¹ç”¨ç»„æˆä¸å¯¹æ¯”ã€‚"
        },
        agency_time: {
          title: "âœ… è§£æ”¾åŒæ‰‹å‹å†³ç­–è€…",
          bullets: [
            "ä¸æƒ³å‚ä¸ç¹çæ“ä½œï¼Œæ›´å…³æ³¨æŠ•æ”¾æ•ˆæœæ˜¯å¦è¾¾æ ‡",
            "é€‚åˆé€‰æ‹©èƒ½æä¾›å®Œæ•´ä»£æŠ• + æŠ¥å‘Š + å’¨è¯¢æœåŠ¡çš„æœºæ„",
            "é‡è¦çš„æ˜¯è®¾å®šå¥½ KPI å’Œæ²Ÿé€šæœºåˆ¶ï¼Œé¿å…â€œç›²æŠ•â€",
            "é€‚åˆé¢„ç®—å……è¶³ã€è¿½æ±‚é«˜æ•ˆåä½œçš„å›¢é˜Ÿå‹å¹¿å‘Šä¸»"
          ],
          footer: "ğŸ‘‰ æœ¬æ–‡å°†å‘Šè¯‰ä½ å¦‚ä½•è¯„ä¼°æŠ•æ”¾æ•°æ®ï¼Œåˆ¤æ–­ä»£ç†æ˜¯å¦é è°±ã€‚"
        }
      },
      btnReset: "ğŸ”„ é‡æ–°é€‰æ‹©"
    },
    en: {
      step1: {
        title: "Before you start SEM, let us ask:",
        question: "Which way do you prefer to manage your ad campaigns?",
        btnSelf: "ğŸ§  DIY (Do it yourself)",
        btnAgency: "ğŸ’¼ Use an agency"
      },
      step2: {
        self: "As a DIY advertiser, what concerns you most?",
        agency: "When hiring an agency, what matters most to you?",
        btnCost: "ğŸ’° Cost efficiency",
        btnTime: "â±ï¸ Time & effort"
      },
      results: {
        self_cost: {
          title: "âœ… Cost-conscious DIY advertiser",
          bullets: [
            "Full control over daily budgets, bids, and keywords",
            "Set negative keywords yourself to avoid wasted clicks",
            "Optimize ad structure and quality score to reduce CPC",
            "No third-party fees involved, good for small budgets"
          ],
          footer: "ğŸ‘‰ This article explains how to break down click costs and improve ROI."
        },
        self_time: {
          title: "âœ… Flexible DIY with limited time",
          bullets: [
            "Want to manage yourself but with less time for maintenance",
            "Suitable for using Google Ads smart bidding and automation",
            "Focus on key metrics like quality score, optimize as needed",
            "Ideal for flexible budgets and long-term learners"
          ],
          footer: "ğŸ‘‰ Learn where to focus your effort and what to automate below."
        },
        agency_cost: {
          title: "âœ… Budget-conscious client",
          bullets: [
            "Want to leverage agency experience but are budget-sensitive",
            "Pay attention to agency fee structures: monthly, commission, transparency",
            "Understand if fees include landing page & reporting",
            "Better for clients with clear goals and tight management"
          ],
          footer: "ğŸ‘‰ The article lists typical fees and service comparisons."
        },
        agency_time: {
          title: "âœ… Hands-off decision maker",
          bullets: [
            "Prefer to avoid day-to-day management, focus on results",
            "Choose agencies offering full-service, reporting, and consulting",
            "Set clear KPIs and communication to avoid blind spending",
            "Suitable for teams with sufficient budget and need for efficiency"
          ],
          footer: "ğŸ‘‰ Learn how to evaluate data and agency reliability."
        }
      },
      btnReset: "ğŸ”„ Choose Again"
    }
  };

  const state = { step: 1, type: null };

  function renderStep() {
    if (state.step === 1) {
      const t = texts[lang].step1;
      container.innerHTML = `
        <h3>${t.title}</h3>
        <p>${t.question}</p>
        <button id="btn-self">${t.btnSelf}</button>
        <button id="btn-agency">${t.btnAgency}</button>
      `;
      document.getElementById('btn-self').onclick = () => { state.type = 'self'; state.step = 2; renderStep(); };
      document.getElementById('btn-agency').onclick = () => { state.type = 'agency'; state.step = 2; renderStep(); };

    } else if (state.step === 2) {
      const t = texts[lang].step2[state.type];
      container.innerHTML = `
        <h3>${t}</h3>
        <button id="btn-cost">${texts[lang].step2.btnCost}</button>
        <button id="btn-time">${texts[lang].step2.btnTime}</button>
      `;
      document.getElementById('btn-cost').onclick = () => showResult('cost');
      document.getElementById('btn-time').onclick = () => showResult('time');
    }
  }

  function showResult(choice2) {
    const key = state.type + '_' + choice2;
    const data = texts[lang].results[key];
    let html = `
      <div class="result">
        <h4>${data.title}</h4>
        <ul>
          ${data.bullets.map(item => `<li>${item}</li>`).join('')}
        </ul>
        <p>${data.footer}</p>
        <button id="btn-reset">${texts[lang].btnReset}</button>
      </div>
    `;
    container.innerHTML = html;

    document.getElementById('btn-reset').onclick = () => {
      state.step = 1;
      state.type = null;
      renderStep();
    };
  }

  renderStep();
});
</script>
